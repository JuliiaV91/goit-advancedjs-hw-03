{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["\n\n export const createGalleryCardTemplate = imgArr => {\n  return imgArr\n    .map(\n      el => `\n      <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n          <img class=\"gallery-img\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n        </a>\n        <div class=\"gallery-info\">\n          <p class=\"info-item\"><strong>Likes</strong> ${el.likes}</p>\n          <p class=\"info-item\"><strong>Views</strong> ${el.views}</p>\n          <p class=\"info-item\"><strong>Comments</strong> ${el.comments}</p>\n          <p class=\"info-item\"><strong>Downloads</strong> ${el.downloads}</p>\n        </div>\n      </li>\n      `\n    )\n    .join('');\n};\n","\nexport const fetchPhotosByQuery = searchedQuery => {\n  return fetch(\n    `https://pixabay.com/api/?key=48231881-acbb1e4446b49c7b538272001&q=${searchedQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n\n    return response.json();\n  });\n};","\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst lightbox = new SimpleLightbox('.gallery a', { captionsData: 'alt', captionDelay: 250 });\nconst loaderEl = document.querySelector('.js-loader');\n\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const inputValue = event.currentTarget.elements.user_query.value.trim();\n\n    if (!inputValue || inputValue === '') {\n\n        iziToast.error({\n                title: \"❌\",\n                message: `Please enter your query!`,\n                position: \"topRight\",\n                icon: \"\",\n            });\n\n    return; \n    }\n    \n    loaderEl.classList.remove('is-hidden');\n\n    fetchPhotosByQuery(inputValue)\n        .finally(() => {\n            loaderEl.classList.add('is-hidden');\n        })\n    .then(data => {\n        if (data.total === 0) {\n            iziToast.error({\n                title: \"❌\",\n                message: `Sorry, there are no images matching your search query. Please try again!`,\n                position: \"topRight\",\n                icon: \"\",\n            });\n\n        galleryEl.innerHTML = '';\n\n        return;\n      }\n\n        galleryEl.innerHTML = createGalleryCardTemplate(data.hits);\n        lightbox.refresh();\n    })\n    .catch(err => {\n        console.log(err);\n        event.currentTarget.reset(); \n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n"],"names":["createGalleryCardTemplate","imgArr","el","fetchPhotosByQuery","searchedQuery","response","searchFormEl","galleryEl","lightbox","SimpleLightbox","loaderEl","onSearchFormSubmit","event","inputValue","iziToast","data","err"],"mappings":"6vBAEQ,MAAMA,EAA4BC,GACjCA,EACJ,IACCC,GAAM;AAAA;AAAA,wCAE4BA,EAAG,aAAa;AAAA,0CACdA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA,wDAGlBA,EAAG,KAAK;AAAA,wDACRA,EAAG,KAAK;AAAA,2DACLA,EAAG,QAAQ;AAAA,4DACVA,EAAG,SAAS;AAAA;AAAA;AAAA,OAInE,EACA,KAAK,EAAE,EClBCC,EAAqBC,GACzB,MACL,qEAAqEA,CAAa,0DACtF,EAAI,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,ECJGC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,IAAIC,EAAe,aAAc,CAAE,aAAc,MAAO,aAAc,GAAG,CAAE,EACtFC,EAAW,SAAS,cAAc,YAAY,EAG9CC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,WAAW,MAAM,OAE/D,GAAI,CAACC,GAAcA,IAAe,GAAI,CAElCC,EAAS,MAAM,CACP,MAAO,IACP,QAAS,2BACT,SAAU,WACV,KAAM,EACtB,CAAa,EAET,MACC,CAEDJ,EAAS,UAAU,OAAO,WAAW,EAErCP,EAAmBU,CAAU,EACxB,QAAQ,IAAM,CACXH,EAAS,UAAU,IAAI,WAAW,CAC9C,CAAS,EACJ,KAAKK,GAAQ,CACV,GAAIA,EAAK,QAAU,EAAG,CAClBD,EAAS,MAAM,CACX,MAAO,IACP,QAAS,2EACT,SAAU,WACV,KAAM,EACtB,CAAa,EAELP,EAAU,UAAY,GAEtB,MACD,CAECA,EAAU,UAAYP,EAA0Be,EAAK,IAAI,EACzDP,EAAS,QAAO,CACxB,CAAK,EACA,MAAMQ,GAAO,CACV,QAAQ,IAAIA,CAAG,EACfJ,EAAM,cAAc,OAC5B,CAAK,CACL,EAEAN,EAAa,iBAAiB,SAAUK,CAAkB"}